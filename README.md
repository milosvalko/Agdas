# pyAgdas

pyAgdas is an open-source app for processing absolute gravimetry data generated by G software. The app is created for FG5 and FG5X gravimeters.
The project was developed at the Research Institute of Geodesy, Topography and Cartography, v.v.i., at the department of Geodesy and Geodynamics.
In case of any questions or something, let's contact us here: vojtech.palinkas@pecny.cz, simek.kuba@email.cz. \
Pull requests are welcome. For major changes, please open an issue first to discuss what you would like to change. 
<p align="center">
    <img src="https://github.com/jakubsimek97/Agdas/blob/main/picture/logo.png?raw=true" width="200">
</p>

# Requierements
Firstly, for pyAgdas is required Python3. It is available [here](https://www.python.org/downloads/). \
In the project are used some libraries require to be installed before starting using the project. Here is a list of them: \
*matplotlib==3.1.2*\
*numpy==1.17.4*\
*PyQt5==5.15.7*\
*scipy==1.7.1*\
*winotify==1.1.0*\
*winapps==0.2.0*

## Installation of Python packages
Command installation for packages in Python has this form: \
`pip install [package name]`\
For Windows it has this form: \
`python -m pip install [package name]`

Here is an example: `python3 -m pip install winotify`

## Launching of pyAgdas
The project is launched by running *main.py* script. pyAgdas can be launched in an IDE or by command line by this command:
`python3 [/path/main.py]`. Or you can create *bat* file for Windows, or *sh* file for Ubuntu which contains the launching command.

### Work with pyAgdas
This is a design of the main page of pyAgdas.
<p align="center">
    <img src="https://github.com/jakubsimek97/Agdas/blob/main/picture/app/main.png?raw=true" width="500">
</p>

*File dialogue* contains two items. The first one is a *New project* and the second one is *Close project*. *New project* button on the main page is as *New project* in *File dialogue*.\
*Data dialog* contains also two items. The first one is *Process data* and the second one is *View data*.\
After clicking on *New project* will be opened this window.

<p align="center">
    <img src="https://github.com/jakubsimek97/Agdas/blob/main/picture/app/newproject.png?raw=true" width="400">
</p>

Button *Select input folder...* serves for defining of source files. This folder has to contain 3 files from G software - *raw*, *drop* and *project*. These files are loaded by their extensions. \
Button *Select output folder...* defines where outputs will be saved. The output folder has this structure:
1. Files
2. Graphs
3. data.db

After confirming the new project is shown *Summary* window where is possible to check some input information:

<p align="center">
    <img src="https://github.com/jakubsimek97/Agdas/blob/main/picture/app/summary.png?raw=true" width="400">
</p>

After importing of input files is time for processing data by clicking on *Process data*. This dialog opens this window:

<p align="center">
    <img src="https://github.com/jakubsimek97/Agdas/blob/main/picture/app/compute1.png?raw=true" width="500">
</p>

Here is necessary to set all input parameters.
1. ***Outputs* or *Complete outputs*?** *Complete outputs* are recommended for more drops and more sets (at least 3 sets with 10 drops). In case *Complete outputs* check box is checked will be comput statistics between sets. So for a few drops, *Complete outputs* choose doesn't give a sense and the app will fall.\
The scrollbar next to *Outputs* is for defining of delimiter for output files.
2. **Polar correction:** Two possibilities are available. The first one is to load correction from *project* file. Or the second one is to download a file with polar coordinates and compute correction for each drop by their time of drop. Two services are possible: from the IERS or the Naval observatory.

After setting all parameters you can start with the processing of the campaign. This processing is placed on *Processing tab*. It is easy, just click on *Run* button.

<p align="center">
    <img src="https://github.com/jakubsimek97/Agdas/blob/main/picture/app/compute2.png?raw=true" width="500">
</p>


# License and copyright

Copyright (C) 2022  Research Institute of Geodesy, Topography and Cartography, v.v.i.

This program is free software: you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation, either version 3 of the License, or
(at your option) any later version.

This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU General Public License for more details.

You should have received a copy of the GNU General Public License
along with this program.  If not, see <https://www.gnu.org/licenses/>.


